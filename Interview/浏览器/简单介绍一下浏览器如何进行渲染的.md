### 简单介绍一下浏览器如何进行渲染的
>1、渲染进程将 HTML 内容转换为能够读懂的DOM 树结构。<br>
2、渲染引擎将 CSS 样式表转化为浏览器可以理解的styleSheets，计算出 DOM 节点的样式。<br>
3、创建布局树，并计算元素的布局信息。<br>
4、对布局树进行分层，并生成分层树。<br>
5、为每个图层生成绘制列表，并将其提交到合成线程。<br>
6、合成线程将图层分成图块，并在光栅化线程池中将图块转换成位图。<br>
7、合成线程发送绘制图块命令DrawQuad给浏览器进程。<br>
8、浏览器进程根据 DrawQuad 消息生成页面，并显示到显示器上。<br>

> 主线程：DOM(创建dom) -> style(样式计算) -> layout(布局数) -> layer(分层) -> paint(图层绘制) -> 非主线程

> 非主线程：tiles(划分图块) -> raster(光栅化) -> draw quad(绘制) -> display(展示)

+ 首先解析收到的文档，根据文档定义构建一棵 DOM 树，DOM 树是由 DOM 元素及属性节点组成的。

+ 然后进行 样式计算
    + 把 CSS 转换为浏览器能够理解的结构 (styleSheets -> document.styleSheets)
    + 转换样式表中的属性值，使其标准化
    + 计算出 DOM 树中每个节点的具体样式 (CSS 的继承规则和层叠规则)
    
+ 创建布局树，布局阶段，DOM 树和 CSSOM 树并不包含DOM元素的几何位置
    + 只包含可见元素
    + 布局计算
  
+ 分层，创建对应的图层树
    + 对应特定的节点，比如z-index,3D变化等等，浏览器会为其生成特定图层
    + 层叠上下文属性、需要裁剪的地方也会生成单独的图层

+ 图层绘制，也就是准备绘制指令列表
  
+ 栅格化操作
  > 实际的绘制操作是由渲染引擎的合成线程来完成的，主线程会把绘制指令提交给合成线程
    + 根据视图窗口，先将图层分为图块
    + 合成线程会按照视口附近的图块来优先生成 位图 输出到GPU中
  
+ 合成显示
  > 一旦所有图块都被栅格化，合成进程就会发送绘制图块命令DrawQuad给到浏览器进程,浏览器进程根据 DrawQuad 消息生成页面，并显示到显示器上
  